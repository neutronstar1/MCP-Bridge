核心设计哲学


┌─────────────────────────────────────────────────────────┐
│  原则：渐进式、可回滚、人工兜底、自动化辅助                    │
│  现状：1000+ API → 识别 50+ 核心场景 → 人工标注 → 动态发布   │
│  目标：1 人日/场景 上线 MCP，支持 A/B 测试和紧急下线          │
└─────────────────────────────────────────────────────────┘


架构设计


┌─────────────┐     ┌──────────────────────────────────────┐     ┌─────────────┐
│   AI Agent  │────►│           MCP Gateway                 │────►│  REST API   │
│  (Claude/   │     │  ┌─────────┐ ┌─────────┐ ┌─────────┐  │     │  (存量服务)  │
│   千问/文心) │     │  │ 场景路由 │ │ 权限中间件│ │ 缓存层   │  │     └─────────────┘
└─────────────┘     │  │ Router  │ │  JWT    │ │         │  │            │
                    │  └────┬────┘ └────┬────┘ └────┬────┘  │            │
                    │       └───────────┴───────────┘        │            │
                    │              │                         │            │
                    │  ┌───────────▼────────────┐            │            │
                    │  │     场景注册中心        │            │            │
                    │  │  (Scene Registry)      │            │            │
                    │  │  - 场景配置 (Markdown)  │            │            │
                    │  │  - API 映射 (自动发现)  │            │            │
                    │  │  - 开关状态 (动态热更新) │            │            │
                    │  └────────────────────────┘            │            │
                    │              │                         │            │
                    │  ┌───────────▼────────────┐            │            │
                    │  │     自动发现引擎        │◄───────────┘            │
                    │  │  - API 流量抓取         │                         │
                    │  │  - 参数推断             │                         │
                    │  │  - 相似度聚类           │                         │
                    │  └────────────────────────┘                         │
                    └─────────────────────────────────────────────────────┘
